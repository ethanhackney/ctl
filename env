#!/bin/bash

# bare minimum needed to work
if [ -z "$CTL_ROOT" ]; then
  echo "env: CTL_ROOT undefined" 2>&1
  exit 1
fi
if [ -z "$CTL_ENV" ]; then
  echo "env: CTL_ENV undefined" 2>&1
  exit 1
fi

# misc variables
export CTL_AUTO_GEN_MSG="AUTO-GENERATED! DO NOT MODIFY" # auto-gen file header 
export CTL_TMP="$CTL_ROOT/tmp"                          # templates

# gcc flags
export CTL_CFLAGS='-Wall -Werror -pedantic'           # compiler flags
export CTL_FAST_CFLAGS="$CTL_CFLAGS -O3"              # enable optimizations
export CTL_DBUG='-DDBUG -fsanitize=address,undefined' # debugging flags
export CTL_TEST_CFLAGS="$CTL_CFLAGS $CTL_DBUG"        # compiler flags for tests

# bash libraries
export CTL_BASH_LIB="$CTL_ROOT/bash/lib" # bash library

# project docs
export CTL_TREE="$CTL_ROOT/.projtree" # project directory tree info
export CTL_PIC="$CTL_ROOT/.projpic"   # project directory tree picture

# c libraries
export CTL_LIB="$CTL_ROOT/lib"            # c library
export CTL_LIB_INCLUDE="$CTL_LIB/include" # c library header files
export CTL_LIB_SRC="$CTL_LIB/src"         # c library source files

# testing
export CTL_MKTEST="$CTL_ROOT/test/mktest" # test generator directory

# doc related stuff
export CTL_DOC_GEN="$CTL_ROOT/doc"    # documentation generator
export CTL_TEST="$CTL_ROOT/test/test" # test directory
export CTL_ARCH="$CTL_ROOT/arch"      # project docs

# exit codes
export CTL_OPT_BAD=2 # exit code for bad option
export CTL_OPT_POS=3 # exit code for unwanted positional parameter
export CTL_EEXIST=4  # dirent does not exist
